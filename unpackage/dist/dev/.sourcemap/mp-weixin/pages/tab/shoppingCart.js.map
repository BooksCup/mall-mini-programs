{"version":3,"sources":["uni-app:///main.js","webpack:///E:/APC/small-mall/mall-mini-programs/pages/tab/shoppingCart.vue?1f72","webpack:///E:/APC/small-mall/mall-mini-programs/pages/tab/shoppingCart.vue?64fb","webpack:///E:/APC/small-mall/mall-mini-programs/pages/tab/shoppingCart.vue?6989","webpack:///E:/APC/small-mall/mall-mini-programs/pages/tab/shoppingCart.vue?1c11","uni-app:///pages/tab/shoppingCart.vue","webpack:///E:/APC/small-mall/mall-mini-programs/pages/tab/shoppingCart.vue?0e67","webpack:///E:/APC/small-mall/mall-mini-programs/pages/tab/shoppingCart.vue?d173"],"names":["createPage","Page"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/GA;;AAiHA;;;;;AAKA;AACA;AACA;AACA,8BADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KA3IA;;AA6IA;;;;;;AAMA,eAnJA,uBAmJA,IAnJA,EAmJA,IAnJA,EAmJA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yCADA;AAEA,4BAFA;AAGA,8BAHA;AAIA,0BAJA;AAKA,8BALA;;AAOA;;AAEA;AACA,sBADA;AAEA,sBAFA;;AAIA,KArLA;;AAuLA,UAvLA,kBAuLA,GAvLA,EAuLA;AACA;AACA;AACA;AACA;AACA,SAHA,CAGA;AACA;AACA;AACA;AACA;AACA,KAjMA;;AAmMA;;;;AAIA,cAvMA,wBAuMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvNA;;AAyNA,gBAzNA,wBAyNA,GAzNA,EAyNA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAhOA;;AAkOA;;;AAGA,eArOA,uBAqOA,KArOA,EAqOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sEADA;;;AAIA;AACA;AACA,wEADA;;AAGA;AACA;AACA;AACA,OA9BA;;AAgCA,SAhCA;AAiCA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAJA;AAKA,eANA;;AAQA;AACA;AACA,eAbA;AAcA;AACA,SApDA,EAgCA;AAqBA;;AAEA;AACA,KA7RA;;AA+RA;;;;AAIA,mBAnSA,6BAmSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAjTA;;AAmTA;;;AAGA,gBAtTA,wBAsTA,QAtTA,EAsTA,IAtTA,EAsTA;AACA;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A,OALA;AAMA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA,OAxBA;AAyBA,KAnuBA;AAouBA;AACA,0BADA;AAEA,wBAFA;AAGA,4BAHA;AAIA,gCAJA;AAKA,4BALA,GApuBA;;AA2uBA;AACA,WA5uBA,mBA4uBA,KA5uBA,EA4uBA,EA5uBA,EA4uBA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA,OARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA,KA5vBA;AA6vBA;AACA,QA9vBA,gBA8vBA,KA9vBA,EA8vBA,KA9vBA,EA8vBA,EA9vBA,EA8vBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA,KA9wBA;AA+wBA,YA/wBA,oBA+wBA,cA/wBA,EA+wBA,aA/wBA,EA+wBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvxBA;AAwxBA,YAxxBA,oBAwxBA,KAxxBA,EAwxBA,EAxxBA,EAwxBA;AACA;AACA,kBADA;AAEA,2BAFA;;AAIA;AACA,qBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA,kCAJA;;;AAOA;AACA,KAryBA;AAsyBA;AACA,WAvyBA,qBAuyBA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAhzBA;AAizBA;AACA,eAlzBA,uBAkzBA,UAlzBA,EAkzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;;;;;AAKA;AACA,uBADA;AAEA,wBAFA;AAGA,wBAHA;;;;;;;;;;AAaA;;;AAGA;;AAEA;AACA;AACA;AACA,4BADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SA5BA;AA6BA;AACA,KAl3BA;AAm3BA;AACA,WAp3BA,qBAo3BA;AACA;AACA;;AAEA;;AAEA,OALA,MAKA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CADA;AAEA,uDAFA;;AAIA;AACA;AACA,yBADA;AAEA,0BAFA;AAGA,0BAHA;AAIA,wCAJA;;;AAOA;AACA;AACA;AACA,gCADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA,6FADA;;AAGA,aAdA,MAcA;AACA;AACA,8BADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAPA,EAOA,IAPA;AAQA;AACA;AACA,WAxCA;AAyCA,SA1DA;AA2DA,OA5DA,MA4DA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA,KAr8BA;AAs8BA;AACA,eAv8BA,uBAu8BA,IAv8BA,EAu8BA,OAv8BA,EAu8BA,KAv8BA,EAu8BA,MAv8BA,EAu8BA;;AAEA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA,WAFA;;AAIA;;AAEA;AACA;AACA,OAfA,MAeA;;AAEA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA,WAFA;;AAIA;;AAEA;AACA,SATA,MASA;AACA;AACA,6BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,WAFA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;;AAEA;AACA;AACA,aAFA;;AAIA;AACA;AACA;AACA;AACA,KA9hCA;AA+hCA;AACA,cAhiCA,wBAgiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAtBA,MAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtCA,MAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WArBA,MAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArCA,MAqCA;AACA;AACA,qCADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA,KA3nCA;AA4nCA;AACA,mBA7nCA,2BA6nCA,IA7nCA,EA6nCA,KA7nCA,EA6nCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OApBA,MAoBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnrCA;AAorCA;AACA,0BArrCA,oCAqrCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7sCA;AA8sCA,kBA9sCA,0BA8sCA,MA9sCA,EA8sCA;AACA;;AAEA;AACA,yCADA;;AAGA,KAptCA;AAqtCA;AACA,eAttCA,yBAstCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,kBADA,EACA;AACA,4BAFA;;;;;;;;;;;AAaA,OAjBA,MAiBA;;;AAGA;AACA,kBADA;;;;;;;;;AAUA;AACA,KAjwCA,GA9FA;;AAi2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KARA;AASA;AACA;;;;;AAKA;;AAEA;AACA,KAlBA;AAmBA,SAnBA,mBAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3BA;AA4BA;AACA,yBADA,GA5BA,CAj2CA;;;AAi4CA;AACA,gBADA,EAj4CA,E;;;;;;;;;;;;;AC1QA;AAAA;AAAA;AAAA;AAAgnC,CAAgB,0mCAAG,EAAC,C;;;;;;;;;;;ACApoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tab/shoppingCart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tab/shoppingCart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shoppingCart.vue?vue&type=template&id=60bdd45b&scoped=true&\"\nvar renderjs\nimport script from \"./shoppingCart.vue?vue&type=script&lang=js&\"\nexport * from \"./shoppingCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shoppingCart.vue?vue&type=style&index=0&id=60bdd45b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60bdd45b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab/shoppingCart.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shoppingCart.vue?vue&type=template&id=60bdd45b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.guid()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shoppingCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shoppingCart.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"order_ii\" ref=\"cart\">\n        <lktauthorize ref=\"lktAuthorizeComp\" v-on:pChangeLoginStatus=\"changeLoginStatus\"></lktauthorize>\n\n        <!-- #ifndef MP -->\n        <div :style=\"{ height: halfWidth }\" class=\"data_h\">\n            <div :style=\"{ height: halfWidth }\" class=\"data_h_h\"></div>\n        </div>\n        <!-- #endif -->\n\n        <div style=\"position: relative;\">\n            <!-- #ifndef MP -->\n            <div class=\"page_title\">\n                <div :style=\"{ top: halfWidth }\" class=\"header\">\n                    <span class=\"span\">购物车</span>\n                    <div @tap=\"_manage\" v-if=\"goods.length\">{{ manage_text }}</div>\n                </div>\n            </div>\n            <!-- #endif -->\n            <!-- #ifdef MP -->\n            <div @tap=\"_manage\" class=\"statusDiv\" v-if=\"goods.length\">{{ manage_text }}</div>\n            <!-- #endif -->\n\n            <view class=\"skeleton\">\n                <div class=\"loginDiv\" v-if=\"!access_id1 && !nrlflag\">\n                    <div class=\"loginText skeleton-rect\">登录后同步购物车中的商品</div>\n                    <div @tap=\"toLogin()\" class=\"loginBtn skeleton-circle\">登录</div>\n                </div>\n\n\n                <!--  有商品时显示   -->\n                <ul class=\"goods\" v-if=\"goods.length && load\">\n                    <!-- 店铺名称 -->\n                    <div :key=\"index1\" v-for=\"(item1, index1) in mch_list\">\n                        <!-- 店铺之间分割线 -->\n                        <div class=\"hr\" v-if=\"index1 > 0\"></div>\n                        <div :key=\"'a' + item1.index1\" class=\"shop-name\">\n                            <image :src=\"display_img1[index1] ? quan_hei : quan_hui\" @tap=\"_selectAllStore(item1, index1)\"\n                                   class=\"img1\"></image>\n                            <image :src=\"store\" class=\"img2\"></image>\n\n                            <p @tap=\"toStore(item1.id)\">{{ item1.name }}</p>\n                            <span @tap=\"toStore(item1.id)\"><image :src=\"jiantou2x\" class=\"img3\"></image></span>\n                        </div>\n                        <view class=\"line\">\n                            <view class=\"line-gray\"></view>\n                        </view>\n\n                        <template v-for=\"(item, index) in goods\">\n                            <li :key=\"index\" v-if=\"item1.id === item.mch_id\">\n                                <img :src=\"display_img[index] ? quan_hei : quan_hui\" @tap=\"_checkedOne(item, index, item1, index1)\"\n                                     class=\"store_img1\"/>\n\n                                <div class=\"store_img\"><img :src=\"item.imgurl\" @tap=\"_goodsDetailed(item.pid)\"\n                                                            class=\"goods_img\"/></div>\n\n                                <div class=\"goods_right\">\n                                    <div>\n                                        <p @tap=\"_goodsDetailed(item.pid)\" class=\"good_name\">{{ item.pro_name }}</p>\n                                        <div @tap=\"_mask_display(item.stock, item.price, item.imgurl, item.id, item.attribute_id)\"\n                                             class=\"goodDetail\">\n                                            <div :key=\"index5\" v-for=\"(item5, index5) in item.skuBeanList\">{{ item5.name\n                                                }}\n                                            </div>\n                                            <img :src=\"jianX\" class=\"img_X\"/>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"goods_bottom\">\n                                        <p class=\"black\">\n                                            <span class=\"price\">￥</span>\n                                            <span class=\"price1\">{{ item.price }}</span>\n                                        </p>\n                                        <div class=\"goods_mun\">\n                                            <span class=\"border-right\"><img :src=\"item.num == 1 ? jian_hui : jian_hei\"\n                                                                            @tap=\"_reduce(index, item.id)\"/></span>\n\n                                            <span :class=\"[item.num == 1 ? 'mun1' : '']\"\n                                                  class=\"mun\">{{ item.num }}</span>\n\n                                            <span class=\"border-left\"><img :src=\"item.num >= 1 ? jia_hei : jia_hui\"\n                                                                           @tap=\"_add(index, item.stock, item.id)\"/></span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <view class=\"line line-top\">\n                                    <view class=\"line-gray\"></view>\n                                </view>\n                            </li>\n                        </template>\n                    </div>\n                </ul>\n\n\n                <div :style=\"{ marginBottom: h5Height }\" class=\"bottom\" v-if=\"goods.length && load\">\n                    <div @tap=\"_selectAll\" class=\"bottom_left\">\n                        <img :src=\"selectAll ? quan_hei : quan_hui\" class=\"quan_img\"/>\n                        <span>全选</span>\n                    </div>\n                    <div class=\"bottom_right\">\n                    <span class=\"span\" v-if=\"manage\">\n                        合计：\n                        <span class=\"red\">￥{{ total }}</span>\n                    </span>\n                        <div @tap=\"_delete\">\n                            {{ manage_pay }}\n\n                            <span v-if=\"manage_text == '编辑'\">({{ count }})</span>\n                        </div>\n                    </div>\n                </div>\n                <!--  没有商品时显示   -->\n                <div class=\"empty skeleton-rect\" v-if=\"!goods.length\">\n                    <img :src=\"kong\"/>\n                    <p>购物车是空的</p>\n                    <div @tap=\"toHome()\" class=\"toHomeBtn\">去逛逛</div>\n                </div>\n\n\n                <div class=\"discover_tj skeleton-rect\" style=\"margin-top: 3px;\">\n                    <div class=\"discover_left skeleton-rect\"><i></i></div>\n                    <p class=\"\">为你推荐</p>\n                    <div class=\"discover_right skeleton-rect\"><i></i></div>\n                </div>\n                <ul class=\"allgoods\" v-if=\"load\">\n                    <li :key=\"index\" @tap=\"_goods(items.id)\" class=\"allgoods_li\" v-for=\"(items, index) in list\"\n                        v-if=\"load\">\n                        <div class=\"proImgBox\">\n                            <img :src=\"items.imgurl\" class=\"allgoods_li_img\"/>\n                            <div class=\"dowmPro\" v-if=\"items.status == 3\">\n                                已下架\n                            </div>\n                        </div>\n                        <p class=\"allgoods_li_title\">{{ items.product_title }}</p>\n                        <p class=\"allgoods_li_subtitle\">{{ items.subtitle }}</p>\n                        <div @tap.stop=\"shopping_j(items.id)\">\n                            <span class=\"allgoods_price\">\n                                <span class=\"allgoods_price_money\">￥</span>\n                                <span class=\"allgoods_price_data\">{{ items.price }}</span>\n                            </span>\n                            <img :src=\"shopImg\" class=\"allgoods_shopImg\"/>\n                        </div>\n                    </li>\n\n                </ul>\n                <ul class=\"allgoods\" v-else>\n                    <li :key=\"guid()\" class=\"allgoods_li\" v-for=\"(item) of 4\">\n                        <div class=\"proImgBox skeleton-rect\">\n                            <img :src=\"shopImg\" class=\"allgoods_li_img\"/>\n                        </div>\n\n\n                        <p class=\"allgoods_li_title skeleton-rect\" style=\"width: 100px;margin-top: 1px;\">标题</p>\n                        <p class=\"allgoods_li_subtitle skeleton-rect\" style=\"width: 60px;margin-top: 1px;\">子标题</p>\n                        <div>\n                            <span class=\"allgoods_price skeleton-rect\" style=\"width: 100px;\">\n                                <span class=\"allgoods_price_money\">￥</span>\n                                <span class=\"allgoods_price_data\">{{item}}</span>\n                            </span>\n\n                            <img :src=\"shopImg\" class=\"allgoods_shopImg skeleton-fillet\"/>\n                        </div>\n\n                    </li>\n                </ul>\n\n\n\n                <!-- #ifdef H5 -->\n                <div class=\"h_100\"></div>\n                <!-- #endif -->\n                <maskM :content=\"content\" :display=\"display\" v-on:mask_value=\"_mask_value\"></maskM>\n            </view>\n\n\n            <!--  遮罩  -->\n            <div @touchmove.stop.prevent class=\"mask\" v-if=\"mask_display1\">\n                <div :style=\"{ marginBottom: h5Height }\" class=\"mask_d\">\n                    <div class=\"mask_guige\">\n                        <div class=\"mask_one\">\n                            <div><img :src=\"imgurl\" class=\"shangp\"/></div>\n                            <div class=\"mask_pric\">\n                                <p class=\"red\">\n                                    ￥\n                                    <span>{{ price }}</span>\n                                </p>\n                                <p class=\"hui\">库存{{ num }}</p>\n                            </div>\n                            <img :src=\"closeImg\" @tap=\"_mask_f()\" class=\"cha\"/>\n                        </div>\n                        <div class=\"mask_over\">\n                            <scroll-view scroll-y style=\"height: 100%;\">\n                                 <template v-if=\"sku_list.result && !sku_list.result['undefined']\">\n                                    <div class='mask_two' v-for=\"(item, key) in sku_list.result\" :key=\"key\" :class=\"{hl: highKeys[key]}\">\n                                        <p>{{key}}</p>\n                                        <ul>\n                                            <li v-for=\"(value,i) in item\" :key=\"i\" :class=\"{select: (!value.active)&&(!value.disabled),orange: value.active, back: value.disabled}\"\n                                             @tap='handleActive(key, value)'>\n                                                <div>{{ value.name }} </div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </template>\n                                <div class=\"mask_num\">\n                                    <p>数量</p>\n                                    <div class=\"goods_mun\">\n                                        <span class=\"border-right\"><img :src=\"numb == 1 ? jian_hui : jian_hei\"\n                                                                        @tap=\"changeStock(1)\"/></span>\n                                        <span class=\"mun\">{{ numb }}</span>\n                                        <span class=\"border-left\"><img :src=\"numb > num ? jia_hei : jia_hui\"\n                                                                       @tap=\"changeStock(2)\"/></span>\n                                    </div>\n                                </div>\n                            </scroll-view>\n                        </div>\n                    </div>\n                    <div class=\"queren_div\">\n                        <div @tap=\"_confirm1()\" class=\"mask_quren\">确认</div>\n                    </div>\n                </div>\n            </div>\n            <div @touchmove.stop.prevent class=\"mask\" v-if=\"mask_display\">\n                <div :style=\"{ marginBottom: h5Height }\" class=\"mask_d\">\n                    <div class=\"mask_guige\">\n                        <div class=\"mask_one\">\n                            <div><img :src=\"imgurl\" class=\"shangp\"/></div>\n                            <div class=\"mask_pric\">\n                                <p class=\"red\">\n                                    ￥\n                                    <span>{{ price }}</span>\n                                </p>\n                                <p class=\"hui\">库存{{ num }}</p>\n                            </div>\n                            <img :src=\"closeImg\" @tap=\"_mask_false\" class=\"cha\"/>\n                        </div>\n                        <div class=\"mask_over\">\n                            <scroll-view v-if=\"sku_list.result && !sku_list.result['undefined']\" scroll-y style=\"height: 100%;\">\n                                <div class='mask_two' v-for=\"(item, key) in sku_list.result\" :key=\"key\" :class=\"{hl: highKeys[key]}\">\n                                \t<p>{{key}}</p>\n                                \t<ul>\n                                \t\t<li v-for=\"(value,i) in item\" :key=\"i\" :class=\"{select: (!value.active)&&(!value.disabled),orange: value.active, back: value.disabled}\"\n                                \t\t @tap='handleActive(key, value)'>\n                                \t\t\t<div>{{ value.name }} </div>\n                                \t\t</li>\n                                \t</ul>\n                                </div>\n                            </scroll-view>\n                        </div>\n                    </div>\n                    <div class=\"queren_div\">\n                        <div @tap=\"_confirm(num)\" class=\"mask_quren\">确认</div>\n                    </div>\n                </div>\n                <div class=\"white_line\"></div>\n            </div>\n        </div>\n\n        <skeleton :animation=\"true\" :loading=\"!load\" bgColor=\"#FFF\"></skeleton>\n    </div>\n</template>\n\n<script>\n    import { mapMutations, mapState } from 'vuex'\n    import maskM from '../../components/maskM.vue'\n\n    export default {\n        data () {\n            return {\n                numb: 1,\n                access_id1: false,\n                nrlflag: false, //是否开启授权登录\n                shopImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/shopping2x.png',\n                closeImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/guanbi2x.png',\n                loadGif: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/loading.gif',\n                kong: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/shopping3x.png',\n                jianX: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jianX.png',\n                jiantou2x: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jiantou2x.png',\n                store: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/store.png',\n                bottom: 3,\n                quan_hui: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/xuanzehui2x.png',\n                quan_hei: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/xuanzehei2x.png',\n                jian_hui: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jianhui2x.png',\n                jian_hei: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jian2x.png',\n                jia_hei: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jia+2x.png',\n                jia_hui: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/add+2x.png',\n                manage: true, //编辑、管理状态\n                manage_text: '编辑',\n                manage_pay: '去结算',\n                content: '确认删除选中的商品吗？', //给遮罩层传值\n                mask_value: '', //接收遮罩层传过来的值\n                display: false, //遮罩层显示状态\n                display_img1: [], //店铺圆圈的选中状态\n                display_img: [], //圆圈的选中状态\n                selectArray: [], //存储选中商品\n                selectStore: [], //存储选中店铺\n                selectStoreArray: [], //存储店铺中选中的商品\n                storeArray: [], //按店铺分商品\n                goods: [], //初始化页面的商品数量\n                selectAll: false, //全选状态\n\n                load: false,\n                mask_display: false, //规格显示隐藏和显示\n                mask_display1: false,\n                attribute_id: '',\n                attrList: '',\n                skuBeanList: '',\n                num: '', //规格数量\n                price: '', //规格价格\n                imgurl: '', //规格图片\n                haveSkuBean: '', //选择规则属性\n                shopping_id: '', //单个商品购物车id\n                jia_img: [],\n                list: [],\n                mch_list: [],\n                fastTap: true,\n                \n                highKeys: {},\n                skuName: 'SkuID',\n                skuName1: 'Price',\n                skuName2: 'Pic',\n                skuName3: 'Stock',\n                spliter: ',',\n                sku_list: {},\n                result: {}\n            }\n        },\n        onLoad () {\n            let needRegister = uni.getStorageSync('needRegister')\n            // 判断是否是授权登录\n            this.nrlflag = needRegister == this.LaiKeTuiCommon.LKT_NRL_TYPE.NRL\n        },\n        onTabItemTap (e) {\n            this.LaiKeTuiCommon.closeMPAuthWin(this)\n        },\n        onShow () {\n            // #ifndef H5\n            uni.showTabBar()\n            // #endif\n            this.display = false\n            this.LaiKeTuiCommon.getUrlFirst(this._axios)\n\n            let needRegister = uni.getStorageSync('needRegister')\n            // 判断是否是授权登录\n            this.nrlflag = needRegister == this.LaiKeTuiCommon.LKT_NRL_TYPE.NRL\n\n            for (var i = 0; i < this.goods.length; i++) {\n                this.display_img[i] = false\n            }\n            this.selectArray = []\n            for (var i = 0; i < this.mch_list.length; i++) {\n                this.display_img1[i] = false\n            }\n            this.selectStore = []\n\n            this.manage_text = '编辑'\n            this.manage_pay = '去结算'\n            this.selectAll = false\n            this.manage = true\n        },\n        methods: {\n            \n            /*\n                 ——————sku核心算法 开始——————\n             */\n             powerset(arr) {\n                 let ps = [[]];\n                 for (let i = 0; i < arr.length; i++) {\n                     for (let j = 0, len = ps.length; j < len; j++) {\n                         ps.push(ps[j].concat(arr[i]));\n                     }\n                 }\n            \n                 return ps;\n             },\n            \n             /**\n              * 初始化数据\n              * @return\n              */\n             initData() {\n                 this.result = {};\n                 this.keys = this.getAllKeys(); //arrKeys[\"颜色\", \"尺码\", \"型号\"]\n            \n                 for (let i = 0; i < this.keys.length; i++) {\n                     this.highKeys[this.keys[i]] = false; //所有的都为false\n                 }\n            \n                 this.sku_list = this.combineAttr(this.skuBeanList, this.keys);\n            \n                 // this.initSeleted(this.SkuID);\n                 // this.initSeleted(this.Pic);\n                 // this.initSeleted(this.Price);\n                 // this.initSeleted(this.Stock);\n                 this.buildResult(this.sku_list.items);\n                 this.updateStatus(this.getSelectedItem(), true);\n                 \n                 \n                 // 初始筛选出库存为0的属性\n                 let filterObj = {}\n                 for(let i in this.result){\n                     if((!i.includes(',')) && this.result[i].skus.Stock == 0){\n                         filterObj[i] = this.result[i]\n                     }\n                 }\n                 \n                 for(let i in this.sku_list.result){\n                     \n                     for(let k in this.sku_list.result[i]){\n                         \n                         for(let j in filterObj){\n                             if(k == j){\n                                 this.sku_list.result[i][k].disabled = true\n                             }\n                         }\n                         \n                     }\n                     \n                 }\n                 // 筛选结束\n                 \n                 this.showResult();\n             },\n            \n             /**\n              * 正常属性点击\n              */\n             handleNormalClick(key, value) {\n                 let list = JSON.parse(JSON.stringify(this.sku_list));\n            \n                 for (let i in list.result[key]) {\n                     if (i != value.name) {\n                         list.result[key][i].active = false;\n                     } else {\n                         list.result[key][i].active = true;\n                     }\n                 }\n            \n                 this.sku_list = list;\n             },\n            \n             /**\n              * 无效属性点击\n              */\n             handleDisableClick(key, value) {\n                 this.sku_list.result[key][value.name]['disabled'] = false;\n                 // 清空高亮行的已选属性状态（因为更新的时候默认会跳过已选状态）\n                 for (let i in this.sku_list.result) {\n                     if (i != key) {\n                         for (let x in this.sku_list.result[i]) {\n                             this.sku_list.result[i][x].active = false;\n                         }\n                     }\n                 }\n            \n                 this.updateStatus(this.getSelectedItem());\n             },\n            \n             /**\n              * 高亮行\n              */\n             highAttributes: function() {\n                 for (let key in this.sku_list.result) {\n                     this.highKeys[key] = true;\n                     for (let attr in this.sku_list.result[key]) {\n                         if (this.sku_list.result[key][attr].active === true) {\n                             this.highKeys[key] = false;\n                             break;\n                         }\n                     }\n                 }\n             },\n            \n             /**\n              * 点击事件处理\n              * @param  key   点击的行\n              * @param  value 点击的按钮的数据\n              */\n             handleActive: function(key, value) {\n                 if(value.disabled === true){\n                     uni.showToast({\n                         title: '库存不足，请选择其它!',\n                         icon: 'none'\n                     })\n                     return\n                 }\n                 \n                 if (value.active == true) {\n                     return false;\n                 }\n            \n                 this.handleNormalClick(key, value);\n                 if (value.disabled === true) {\n                     this.handleDisableClick(key, value);\n                 }\n            \n                 this.updateStatus(this.getSelectedItem());\n                 this.highAttributes();\n                 this.showResult();\n             },\n            \n             /**\n              * 计算属性\n              * @param  {[type]} data [description]\n              * @param  {[type]} keys [description]\n              * @return {[type]}      [description]\n              */\n             combineAttr(data, keys) {\n                 let allKeys = [];\n                 let result = {};\n            \n                 for (let i = 0; i < data.length; i++) {\n                     let item = data[i];\n                     let values = [];\n            \n                     for (let j = 0; j < keys.length; j++) {\n                         let key = keys[j];\n                         if (!result[key]) {\n                             result[key] = {};\n                         }\n            \n                         if (!result[key][item[key]]) {\n                             result[key][item[key]] = { name: item[key], active: false, disabled: item['Stock'] > 0 ? false : true };\n                         }\n            \n                         values.push(item[key]);\n                     }\n            \n                     allKeys.push({\n                         path: values.join(this.spliter),\n                         sku: item['SkuID'],\n                         price: item['Price'],\n                         Pic: item['Pic'],\n                         Stock: item['Stock']\n                     });\n                 }\n            \n                 return {\n                     result: result,\n                     items: allKeys\n                 };\n             },\n            \n             isJSON(str) {\n                 if (typeof str == 'string') {\n                     try {\n                         var obj = JSON.parse(str);\n                         return true;\n                     } catch (e) {\n                         console.log('error：' + str + '!!!' + e);\n                         return false;\n                     }\n                 }\n             },\n            \n             /**\n              * 获取所有属性\n              * @return {[type]} [description]\n              */\n             getAllKeys() {\n                 let arrKeys = [];\n                 for (let attribute in this.skuBeanList[0]) {\n                     if (!this.skuBeanList[0].hasOwnProperty(attribute)) {\n                         continue;\n                     }\n            \n                     if (attribute !== this.skuName && attribute !== this.skuName1 && attribute !== this.skuName2 && attribute !== this.skuName3) {\n                         arrKeys.push(attribute);\n                     }\n                 }\n                 if(arrKeys.length == 0){\n                 \tarrKeys = [\"undefined\"]\n                 \tthis.skuBeanList[0][\"undefined\"] = \"undefined\"\n                 }\n                 return arrKeys;\n             },\n            \n             getAttruites(arr) {\n                 let result = [];\n                 for (let i = 0; i < arr.length; i++) {\n                     result.push(arr[i].path);\n                 }\n            \n                 return result;\n             },\n            \n             /**\n              * 生成所有子集是否可选、库存状态 map\n              */\n             buildResult(items) {\n                 let allKeys = this.getAttruites(items);\n            \n                 let attr = {};\n                 //价格 , 库存, 图片 赋值\n                 for (let i = 0; i < allKeys.length; i++) {\n                     let curr = allKeys[i];\n                     let sku = items[i].sku;\n                     let Pic = items[i].Pic;\n                     let price = items[i].price;\n                     let Stock = items[i].Stock;\n                     let values = curr.split(this.spliter);\n                     let allSets = this.powerset(values);\n            \n                     // 每个组合的子集\n                     for (let j = 0; j < allSets.length; j++) {\n                         let set = allSets[j];\n                         let key = set.join(this.spliter);\n                         if (key && !this.result[key]) {\n                             this.result[key] = {\n                                 skus: { sku, Pic, price, Stock }\n                             };\n            \n                             if ((!key.includes(',') && !attr[key]) || (key.includes(',') && key.split(',').length < allKeys[i].split(',').length)) {\n                                 attr[key] = {\n                                     skus: { sku, Pic, price, Stock }\n                                 };\n                             }\n                         }\n                     }\n                 }\n            \n                 for (let i in attr) {\n                     attr[i].skus.Stock = 0;\n                     for (let k in this.result) {\n                         if (i != k && k.split(',').length == allKeys[0].split(',').length && k.includes(i)) {\n                             attr[i].skus.Stock += Number(this.result[k].skus.Stock);\n                         } else if (k.split(',').length == allKeys[0].split(',').length) {\n                             let flag = [];\n            \n                             k.split(',').filter(item => {\n                                 i.split(',').filter(it => {\n                                     if (item == it) {\n                                         flag.push(true);\n                                     }\n                                 });\n                             });\n            \n                             if (flag.length == i.split(',').length) {\n                                 attr[i].skus.Stock += Number(this.result[k].skus.Stock);\n                             }\n                         }\n                     }\n                 }\n            \n                 Object.assign(this.result, attr);\n             },\n            \n             /**\n              * 获取选中的信息\n              * @return Array\n              */\n             getSelectedItem() {\n                 let result = [];\n                 for (let attr in this.sku_list.result) {\n                     let attributeName = '';\n                     for (let attribute in this.sku_list.result[attr]) {\n                         if (this.sku_list.result[attr][attribute].active === true) {\n                             attributeName = attribute;\n                         }\n                     }\n            \n                     result.push(attributeName);\n                 }\n            \n                 return result;\n             },\n            \n             /**\n              * 更新所有属性状态\n              */\n             updateStatus(selected, type) {\n                 for (let i = 0; i < this.keys.length; i++) {\n                     let key = this.keys[i],\n                         data = this.sku_list.result[key],\n                         hasActive = !!selected[i],\n                         copy = selected.slice();\n            \n                     for (let j in data) {\n                         let item = data[j]['name'];\n                         if (selected[i] == item) {\n                             continue;\n                         }\n            \n                         copy[i] = item;\n                         let curr = this.trimSpliter(copy.join(this.spliter), this.spliter);\n            \n                         if (type) {\n                             this.sku_list.result[key][j]['disabled'] = this.result[curr] ? false : true;\n                         } else {\n                             this.sku_list.result[key][j]['disabled'] = this.result[curr].skus.Stock > 0 ? false : true;\n                         }\n                     }\n                 }\n             },\n            \n             trimSpliter(str, spliter) {\n                 let reLeft = new RegExp('^' + spliter + '+', 'g');\n                 let reRight = new RegExp(spliter + '+$', 'g');\n                 let reSpliter = new RegExp(spliter + '+', 'g');\n                 return str\n                     .replace(reLeft, '')\n                     .replace(reRight, '')\n                     .replace(reSpliter, spliter);\n             },\n            \n             /**\n              * 初始化选中\n              * @param  mixed|Int|String SkuID 需要选中的SkuID\n              * @return {[type]}       [description]\n              */\n             initSeleted(a) {\n                 for (let i in this.skuBeanList) {\n                     if (this.skuBeanList[i][this.skuName] == a) {\n                         for (let x in this.skuBeanList[i]) {\n                             if (x !== this.skuName && x !== this.skuName1 && x !== this.skuName2 && x !== this.skuName3) {\n                                 this.sku_list.result[x][this.skuBeanList[i][x]].active = true;\n                             }\n                         }\n                         break;\n                     }\n                 }\n             },\n            \n             /**\n              * 显示选中的信息\n              * @return\n              */\n             showResult() {\n                 let result = this.getSelectedItem();\n                 let s = [];\n                 for (let i = 0; i < result.length; i++) {\n                     let item = result[i];\n                     if (!!item) {\n                         s.push(item);\n                     }\n                 }\n            \n                 if (s.length > 0) {\n                     this.num = this.result[s.join(this.spliter)].skus.Stock;\n                     this.imgurl = this.result[s.join(this.spliter)].skus.Pic\n                 }\n            \n                 if (s.length == this.keys.length) {\n                     let curr = this.result[s.join(this.spliter)];\n                     if (curr) {\n                         this.SkuID = curr.skus.sku;\n                         this.Pic = curr.skus.Pic;\n                         this.price = curr.skus.price;\n                         this.Stock = curr.skus.Stock;\n                         \n                         if(Number(this.numb)>Number(this.Stock)){\n                         \tthis.numb = Number(this.Stock)\n                         }\n                     }\n            \n                     this.haveSkuBean = {\n                         name: s.join(this.spliter),\n                         cid: curr.skus.sku,\n                         skus: curr.skus\n                     };\n                 } else {\n                     this.haveSkuBean = '';\n                 }\n             },\n            \n             /* \n                 ——————sku核心算法 结束——————\n            */\n            \n            toStore (id) {\n                uni.navigateTo({\n                    url: '/pagesA/store/store?shop_id=' + id\n                })\n            },\n            changeLoginStatus () {\n\n                this._axios()\n            },\n            // 增加减少购买数量\n            changeStock (type) {\n                if (this.haveSkuBean) {\n                    if (type == 1) {\n                        this.numb > 1 ? this.numb-- : this.numb == 1\n                    } else if (type == 2) {\n                        if (this.numb < Number(this.num)) {\n                            this.numb++\n                        } else {\n                            uni.showToast({\n                                title: '已经超过购买限额',\n                                duration: 1000,\n                                icon: 'none'\n                            })\n                        }\n                    }\n                } else {\n                    uni.showToast({\n                        title: '请先选择商品规格',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                }\n            },\n            // 点击确定购买之后，如果库存不为零。则运行\n            _shopping (id) {\n                if (this.haveSkuBean) {\n                    var data = {\n                        module: 'app',\n                        action: 'product',\n                        app: 'add_cart',\n                        pro_id: this.proid,\n                        attribute_id: this.haveSkuBean.cid,\n                        num: this.numb,\n                        type: 'addcart'\n                    }\n\n                    this.$req\n                        .post({ data })\n                        .then(res => {\n                            let { code, data, message } = res\n                            if (code == 200) {\n                                uni.showToast({\n                                    title: '添加成功，在购物车等您哦~',\n                                    icon: 'none'\n                                })\n\n                                this.$store.state.access_id = data.access_id\n\n                                this.haveSkuBean = ''\n                                this._mask_f()\n                                setTimeout(() => {\n                                    this.fastTap = true\n                                    this._axios()\n                                }, 500)\n                            } else {\n                                uni.showToast({\n                                    title: message,\n                                    icon: 'none'\n                                })\n                                this.fastTap = true\n                            }\n                        })\n                        .catch(error => {\n                            this.fastTap = true\n                        })\n                } else {\n                    this._mask_display()\n                    this.fastTap = true\n                }\n            },\n            // 为你推荐商品右下角的小购物车图标\n            shopping_j (id) {\n                if (!this.fastTap) {\n                    return\n                }\n                this.fastTap = false\n                this.proid = id\n                var data = {\n                    module: 'app',\n                    action: 'product',\n                    app: 'index',\n                    pro_id: id\n                }\n\n                this.$req\n                    .post({ data })\n                    .then(res => {\n                        this.fastTap = true\n                        let {\n                            data: { collection_id, pro, comments, attrList, skuBeanList, attribute_list, qj_price, type }\n                        } = res\n                        this.ys_price = qj_price\n                        this.price = qj_price\n                        this.attrList = attrList\n                        this.skuBeanList = attribute_list\n                        this.initData();\n                        \n                        this.collection = type\n                        this.imgurl = pro.img_arr[0]\n                        this.num = pro.num\n\n                        this.mask_display1 = true\n                        this.numb = 1\n                    })\n                    .catch(error => {\n                        this.fastTap = true\n                    })\n            },\n            // 跳转至为你推荐的商品详情\n            _goods (id) {\n                this.$store.commit('SET_PRO_ID', id)\n                uni.navigateTo({\n                    url: '/pages/goods/goodsDetailed'\n                })\n            },\n            // 登录\n            toLogin () {\n                uni.navigateTo({\n                    url: '/pages/login/login?landing_code=1'\n                })\n            },\n            //打开遮罩层\n            toHome () {\n                uni.switchTab({\n                    url: '/pages/tabBar/home'\n                })\n            },\n            // 购物车商品中，点击规格\n            _mask_display (stock, price, imgurl, id, attribute_id) {\n                this.shopping_id = id\n                this.haveSkuBean = ''\n                this.mask_display = true\n                var data = {\n                    module: 'app',\n                    action: 'cart',\n                    app: 'dj_attribute',\n\n                    pro_id: id\n                }\n                if (this.access_id) {\n                    data.cart_id = id\n                } else {\n                    data.cart_id = id\n                }\n                \n                this.imgurl = imgurl\n\n                this.$req.post({ data }).then(res => {\n                    let { data } = res\n                    this.attrList = data[0].attrList\n                    this.skuBeanList = data[0].attribute_list\n                    \n                    this.initData()\n                    \n                    // 以下为初始化选中\n                    for(let i in this.sku_list.items){\n                        if(this.sku_list.items[i].sku == attribute_id){\n                            this.haveSkuBean = {\n                                name: this.sku_list.items[i].path,\n                                cid: attribute_id,\n                                skus: this.sku_list.items[i]\n                            };\n                        }\n                    }\n                    \n                    let selectName = this.haveSkuBean.name.split(',')\n                    \n                    for(let i in this.sku_list.result){\n                        \n                        for(let k in this.sku_list.result[i]){\n                            \n                            let flag = selectName.some(item=>item==k)\n                            \n                            if(flag){\n                                this.handleActive(i, this.sku_list.result[i][k])\n                            }\n                            \n                        }\n                        \n                    }\n                    \n                })\n            },\n            // 关闭遮罩层\n            _mask_f () {\n                this.haveSkuBean = ''\n                this.mask_display1 = false\n            },\n            //关闭遮罩层\n            _mask_false () {\n                this.mask_display = false\n            },\n            // 遮罩层中，点击确认按钮\n            _confirm1 () {\n                if(this.sku_list.result['undefined']){\n                \tthis.haveSkuBean = {\n                \t\tcid: this.sku_list.items[0].sku,\n                \t\tskus: this.sku_list.items[0]\n                \t};\n                }\n                \n                if (!this.fastTap) {\n                    return\n                }\n                this.fastTap = false\n                if (Boolean(this.haveSkuBean)) {\n                    if (this.num == 0) {\n                        uni.showToast({\n                            title: '库存不足',\n                            duration: 1000,\n                            icon: 'none'\n                        })\n                        this.fastTap = true\n                    } else if (this.num != 0) {\n                        this._shopping()\n                    }\n                } else {\n                    if (this.num == 0) {\n                        uni.showToast({\n                            title: '库存不足',\n                            duration: 1000,\n                            icon: 'none'\n                        })\n                        this.fastTap = true\n                    } else {\n                        uni.showToast({\n                            title: '请选择完整的商品规格！',\n                            duration: 1000,\n                            icon: 'none'\n                        })\n                        this.fastTap = true\n                    }\n                }\n            },\n            //确认\n            _confirm (num) {\n                if(this.sku_list.result['undefined']){\n                \tthis.haveSkuBean = {\n                \t\tcid: this.sku_list.items[0].sku,\n                \t\tskus: this.sku_list.items[0]\n                \t};\n                }\n                \n                if (num == 0) {\n                    uni.showToast({\n                        title: '该产品规格库存不足！',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                    return\n                }\n                console.log(this.haveSkuBean)\n                if (Boolean(this.haveSkuBean)) {\n                    let data = {\n                        module: 'app',\n                        action: 'cart',\n                        app: 'modify_attribute',\n                        cart_id: this.shopping_id,\n                        attribute_id: this.haveSkuBean.cid\n                    }\n                    this.$req.post({ data }).then(res => {\n                        let { code, message } = res\n                        if (code == 200) {\n                            this._mask_false()\n                            this._axios()\n                        }else{\n                            uni.showToast({\n                                title: message,\n                                icon: 'none'\n                            })\n                        }\n                    })\n                } else {\n                    uni.showToast({\n                        title: '请选择完整的商品规格！',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                }\n            },\n            _axios () {\n                this.goods = []\n\n                if (!this.load) {\n                    uni.showLoading({\n                        title: '请稍后...'\n                    })\n                }\n\n                var data = {\n                    module: 'app',\n                    action: 'cart',\n                    app: 'index',\n                    cart_id: this.$store.state.nCart\n                }\n                this.$req.post({ data }).then(res => {\n                    if (!this.load) {\n                        uni.hideLoading()\n                    }\n\n                    let { code, data, list, mch_list, login_status, message } = res\n                    if (login_status != 0) {\n                        this.access_id1 = true\n                    } else {\n                        this.access_id1 = false\n                    }\n                    if (code == 200) {\n                        this.goods.push(...data)\n                        this.list = list\n                        this.mch_list = mch_list\n                        // 计算购物车商品总数量\n                        this._cartAllNum()\n                        // 按店铺分商品\n                        this._productDividedByStore()\n                    } else {\n                        this.access_id1 = false\n                        this.goods = []\n                    }\n                    this.load = true\n                })\n            },\n            ...mapMutations({\n                cart_id: 'SET_CART_ID',\n                pro_id: 'SET_PRO_ID',\n                order_id: 'SET_ORDER_ID',\n                address_id: 'SET_ADDRESS_ID',\n                cart_num: 'SET_CART_NUM'\n            }),\n            //数量减少\n            _reduce (index, id) {\n                var num = this.goods[index].num\n                if (this.goods[index].num <= 1) {\n                    this.goods[index].num = 1\n                    uni.showToast({\n                        title: '该宝贝不能减少了哟！',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                    return false\n                } else {\n                    this.goods[index].num--\n                    this._munajax(this.goods[index].num, id)\n                    // 计算购物车总数量\n                    this._cartAllNum()\n                }\n            },\n            //数量增加\n            _add (index, stock, id) {\n                let num = this.num ? this.num : stock\n                if (Number(this.goods[index].num) < Number(num)) {\n                    this.goods[index].num++\n                    this._munajax(this.goods[index].num, id)\n                    this.jia_img = true\n                    // 计算购物车总数量\n                    this._cartAllNum()\n                } else {\n                    this.jia_img = false\n                    uni.showToast({\n                        title: '数量已达到上线哦！',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                }\n            },\n            in_array (stringToSearch, arrayToSearch) {\n                for (let s = 0; s < arrayToSearch.length; s++) {\n                    let thisEntry = arrayToSearch[s].toString()\n                    if (thisEntry == stringToSearch) {\n                        return true\n                    }\n                }\n                return false\n            },\n            _munajax (goods, id) {\n                let arr = {\n                    num: goods,\n                    cart_id: Number(id)\n                }\n                let data = {\n                    module: 'app',\n                    action: 'cart',\n                    app: 'up_cart',\n                    goods: JSON.stringify(arr)\n                }\n\n                this.$req.post({ data }).then(res => {})\n            },\n            //编辑管理状态\n            _manage () {\n                this.manage = !this.manage\n                if (this.manage) {\n                    this.manage_text = '编辑'\n                    this.manage_pay = '去结算'\n                } else {\n                    this.manage_text = '完成'\n                    this.manage_pay = '删除商品'\n                }\n            },\n            //节奏遮罩层传值\n            _mask_value (mask_value) {\n                uni.showTabBar()\n                this.mask_value = mask_value\n                var cart_id = []\n                var cart_str = ''\n                for (var i = 0; i < this.selectArray.length; i++) {\n                    cart_id.push(Number(this.selectArray[i].id))\n                    cart_str = cart_str + Number(this.selectArray[i].id) + ','\n                }\n                if (mask_value == '取消') {\n                    this.display = false\n                } else if (this.manage_pay == '删除商品' && this.mask_value == '确认') {\n                    // #ifdef MP-ALIPAY\n                    cart_id = cart_str\n                    // #endif\n\n                    var data = {\n                        module: 'app',\n                        action: 'cart',\n                        app: 'delcart',\n                    }\n\n                    // #ifdef MP-BAIDU\n                    for (let i in cart_id) {\n                        data[`cart_id[${i}]`] = cart_id[i]\n                    }\n                    // #endif\n\n                    // #ifndef MP-BAIDU\n                    data['cart_id'] = cart_id\n                    // #endif\n\n                    this.display_img1 = []\n\n                    this.$req.post({ data }).then(res => {\n                        if (res.code != 200) {\n                            uni.showToast({\n                                title: res.err,\n                                duration: 1500,\n                                icon: 'none'\n                            })\n                        }\n\n                        this.manage_text = '编辑'\n                        this.manage_pay = '去结算'\n                        this.manage = true\n                        this.selectAll = false\n                        this.selectArray = []\n                        for (var i = 0; i < this.goods.length; i++) {\n                            this.$set(this.display_img, i, false)\n                        }\n                        for (var i = 0; i < cart_id.length; i++) {\n                            var n = this.$store.state.nCart.indexOf(cart_id[i])\n                            if (n > -1) {\n                                this.$store.state.nCart.splice(n, 1)\n                            }\n                        }\n\n                        this.display = false\n                        this._axios()\n                        // 计算购物车总数量\n                        this._cartAllNum()\n                    })\n                }\n            },\n            //删除商品\n            _delete () {\n                if (this.manage_pay == '删除商品' && this.selectArray.length > 0) {\n                    this.display = true\n                    // #ifndef H5\n                    uni.hideTabBar()\n                    // #endif\n                } else if (this.manage_pay == '删除商品') {\n                    uni.showToast({\n                        title: '请选择您需要删除的商品！',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                }\n\n                if (this.manage_pay == '去结算' && this.selectArray.length > 0) {\n                    this.isLogin(() => {\n                        var cart_id = []\n                        var goods = []\n                        for (var i = 0; i < this.selectArray.length; i++) {\n                            cart_id.push(this.selectArray[i].id)\n                            goods.push({\n                                num: this.selectArray[i].num,\n                                cart_id: Number(this.selectArray[i].id)\n                            })\n                        }\n                        var data = {\n                            module: 'app',\n                            action: 'cart',\n                            app: 'up_cart',\n                            goods: JSON.stringify(goods)\n                        }\n\n                        this.$req.post({ data }).then(res => {\n                            if (res.code == 404) {\n                                uni.showToast({\n                                    title: '支付发生异常!',\n                                    icon: 'none',\n                                    duration: 1000\n                                })\n                                return\n                            }\n\n                            if (res.code == 200) {\n                                this.$store.state.cart_id = cart_id\n                                this.cart_id(cart_id)\n                                this.order_id('')\n                                this.address_id('')\n\n                                // #ifdef H5\n                                var storage = window.localStorage\n                                storage.cart_id = cart_id\n                                // #endif\n\n                                uni.navigateTo({\n                                    url: '/pages/pay/orderDetailsr?cart_id=' + cart_id + '&canshu=true&returnR=1'\n                                })\n                            } else {\n                                uni.showToast({\n                                    title: '库存不足!',\n                                    icon: 'none',\n                                    duration: 1000\n                                })\n                                setTimeout(() => {\n                                    this._axios()\n\n                                    for (var i = 0; i < this.goods.length; i++) {\n                                        this.display_img[i] = false\n                                    }\n                                    this.selectArray = []\n                                }, 1000)\n                                this.selectAll = false\n                            }\n                        })\n                    })\n                } else if (this.manage_pay == '去结算') {\n                    uni.showToast({\n                        title: '请选择您需要购买的商品！',\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                }\n            },\n            //单选\n            _checkedOne (item, indexli, item1, index1) {\n\n                var cum = this.selectArray.findIndex(items => {\n                    return items.id == item.id\n                })\n                // 如果是有的话 点击就是取消\n                //判断点击的传入的值是否存在数组中，如果没有添加，如果有删除，同时设定选中状态（第一次点击添加进数组，第二次点击从数组中删除）\n                if (this.manage_pay == '删除商品') {\n                    if (cum < 0) {\n                        // 点击新增\n                        this.selectArray.push(item)\n                        this.$set(this.display_img, indexli, true)\n                    } else {\n                        // 点击取消\n                        var i = this.selectArray.findIndex(items => {\n                            return items.id == item.id\n                        })\n\n                        this.selectArray.splice(i, 1)\n\n                        this.$set(this.display_img, indexli, false)\n                    }\n                } else if (this.manage_pay == '去结算') {\n\n                    if (cum < 0 && item.stock > 0) {\n                        // 点击新增\n                        this.selectArray.push(item)\n                        this.$set(this.display_img, indexli, true)\n                    } else if (cum >= 0 && item.stock > 0) {\n                        // 点击取消\n                        var i = this.selectArray.findIndex(items => {\n                            return items.id == item.id\n                        })\n\n                        this.selectArray.splice(i, 1)\n\n                        this.$set(this.display_img, indexli, false)\n                    } else {\n                        uni.showToast({\n                            title: '该商品库存不足！',\n                            duration: 1000,\n                            icon: 'none'\n                        })\n                    }\n                }\n                //根据产品选状态，设定全选状态\n                if (this.selectArray.length == this.goods.length) {\n                    this.selectAll = true\n                } else {\n                    this.selectAll = false\n                }\n                //根据产品选状态，设定店铺全选状态\n                // 添加或删除店铺选择数组\n                if (item.mch_id == item1.id) {\n\n                    if (!this.selectStoreArray[index1]) {\n                        this.selectStoreArray[index1] = []\n                    }\n                    var isSlectedInStore = this.selectStoreArray[index1].findIndex(items => { items.id == item.id })\n                    if (isSlectedInStore < 0) {\n                        this.selectStoreArray[index1].push(item)\n                    } else {\n                        var i = this.selectStoreArray[index1].findIndex(items => {\n                            return items.id == item.id\n                        })\n\n                        this.selectStoreArray[index1].splice(i, 1)\n                    }\n                    var isSlected = this.selectStore.findIndex(items => { items.id == item1.id })\n\n                    if (this.selectStoreArray[index1].length == this.storeArray[index1].children.length) {\n                        if (isSlected < 0) {\n                            this.$set(this.display_img1, index1, true)\n                            this.selectStore.push(item1)\n                        }\n                    } else {\n                        if (isSlected >= 0) {\n                            this.$set(this.display_img1, index1, false)\n\n                            var i = this.selectStore.findIndex(items => {\n                                return items.id == item1.id\n                            })\n\n                            this.selectStore.splice(i, 1)\n                        }\n                    }\n                }\n            },\n            //全选\n            _selectAll () {\n                var arr = []\n                for (var i = 0; i < this.goods.length; i++) {\n                    if (this.goods[i].stock > 0) {\n                        arr.push(1)\n                    }\n                }\n                if (this.manage_pay == '删除商品') {\n                    this.selectAll = !this.selectAll\n                    if (this.selectAll) {\n                        for (var i = 0; i < this.goods.length; i++) {\n                            this.$set(this.selectArray, i, this.goods[i])\n                            this.$set(this.display_img, i, true)\n                        }\n                        //店铺\n                        if (this.mch_list) {\n                            for (var i = 0; i < this.mch_list.length; i++) {\n                                this.$set(this.selectStore, i, this.mch_list[i])\n                                this.$set(this.display_img1, i, true)\n                                if (this.storeArray.children) {\n                                    if (this.storeArray[i].children) {\n                                        for (var j = 0; j < this.storeArray[i].children.length; j++) {\n                                            if (!this.selectStoreArray[i]) {\n                                                this.selectStoreArray[i] = []\n                                            }\n                                            this.$set(this.selectStoreArray[i], j, this.storeArray[i].children[j])\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    } else {\n                        this.selectArray = []\n                        for (var i = 0; i < this.goods.length; i++) {\n                            this.$set(this.display_img, i, false)\n                        }\n                        //店铺\n                        this.selectStore = []\n                        this.selectStoreArray = []\n                        if (this.storeArray) {\n                            for (var i = 0; i < this.storeArray.length; i++) {\n                                this.$set(this.display_img1, i, false)\n                            }\n                        }\n                    }\n                } else if (this.manage_pay == '去结算') {\n                    if (arr.length == this.goods.length) {\n                        this.selectAll = !this.selectAll\n                        if (this.selectAll) {\n                            for (var i = 0; i < this.goods.length; i++) {\n                                this.$set(this.selectArray, i, this.goods[i])\n                                this.$set(this.display_img, i, true)\n                            }\n                            //店铺\n                            if (this.mch_list) {\n                                console.log('全选店铺操作1')\n                                for (var i = 0; i < this.mch_list.length; i++) {\n                                    this.$set(this.selectStore, i, this.mch_list[i])\n                                    this.$set(this.display_img1, i, true)\n                                    if (this.storeArray[i].children) {\n                                        for (var j = 0; j < this.storeArray[i].children.length; j++) {\n                                            if (!this.selectStoreArray[i]) {\n                                                this.selectStoreArray[i] = []\n                                            }\n                                            this.$set(this.selectStoreArray[i], j, this.storeArray[i].children[j])\n                                        }\n                                    }\n                                }\n                            }\n                        } else {\n                            this.selectArray = []\n                            for (var i = 0; i < this.goods.length; i++) {\n                                this.$set(this.display_img, i, false)\n                            }\n                            //店铺\n                            this.selectStore = []\n                            this.selectStoreArray = []\n                            if (this.storeArray) {\n                                for (var i = 0; i < this.storeArray.length; i++) {\n                                    this.$set(this.display_img1, i, false)\n                                }\n                            }\n                        }\n                    } else {\n                        uni.showToast({\n                            title: '商品库存不足，不能进行该项操作！',\n                            duration: 1000,\n                            icon: 'none'\n                        })\n                    }\n                }\n            },\n            // 全选某店铺商品\n            _selectAllStore (item, index) {\n                var storeId = this.mch_list[index].id\n                var isSlected = this.selectStore.findIndex(items => { return items.id == storeId })\n                // 判断此店铺是否被选中\n                if (isSlected < 0) {\n                    // 否 则选中店铺\n                    for (var j = 0; j < this.goods.length; j++) {\n                        var cum = this.selectArray.findIndex(items => { return items.id == this.goods[j].id })\n\n                        if (storeId == this.goods[j].mch_id) {\n                            console.log('添加店铺cum', cum)\n                            if (cum < 0) {\n                                this.selectArray.push(this.goods[j])\n                                this.$set(this.display_img, j, true)\n                                if (!this.selectStoreArray[index]) {\n                                    this.selectStoreArray[index] = []\n                                }\n                                this.selectStoreArray[index].push(this.goods[j])\n                            }\n                        }\n                    }\n                    this.selectStore.push(item)\n\n                    this.$set(this.display_img1, index, true)\n                } else {\n                    // 是 则取消店铺\n                    for (var j = 0; j < this.goods.length; j++) {\n                        var cum = this.selectArray.findIndex((selectItem) => selectItem.id === this.goods[j].id)\n\n                        if (storeId == this.goods[j].mch_id) {\n                            if (cum >= 0) {\n                                this.selectArray.splice(cum, 1)\n                                this.$set(this.display_img, j, false)\n                                if (!this.selectStoreArray[index]) {\n                                    this.selectStoreArray[index] = []\n                                }\n                                let cum2 = this.selectStoreArray[index].findIndex((selectItem) => selectItem.id === this.goods[j].id)\n                                this.selectStoreArray.splice(cum2, 1)\n                            }\n                        }\n                    }\n\n                    let cum3 = this.selectStore.findIndex((selectItem) => selectItem.id === item.id)\n                    this.selectStore.splice(cum3, 1)\n\n                    this.$set(this.display_img1, index, false)\n                }\n\n                //根据产品选状态，设定全选状态\n                if (this.selectArray.length == this.goods.length) {\n                    this.selectAll = true\n                } else {\n                    this.selectAll = false\n                }\n            },\n            // 按店铺分商品\n            _productDividedByStore () {\n                if (this.mch_list && this.goods) {\n                    for (var i = 0; i < this.mch_list.length; i++) {\n                        if (!this.storeArray[i]) {\n                            this.storeArray[i] = []\n                        }\n                        this.storeArray[i].push(this.mch_list[i])\n\n                        if (!this.storeArray[i].children) {\n                            this.storeArray[i].children = []\n                        }\n                        for (var j = 0; j < this.goods.length; j++) {\n                            if (this.mch_list[i].id == this.goods[j].mch_id) {\n                                var storeI = this.storeArray[i].children.findIndex(it => {\n                                    return it.id == this.goods[j].id\n                                })\n\n                                if (storeI < 0) {\n                                    this.storeArray[i].children.push(this.goods[j])\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            _goodsDetailed (pro_id) {\n                this.pro_id(pro_id)\n\n                uni.navigateTo({\n                    url: '/pages/goods/goodsDetailed'\n                })\n            },\n            // 计算购物车商品总数量\n            _cartAllNum () {\n                var data = this.goods\n                if (data && data.length) {\n                    var allnum = 0\n                    for (var i = 0; i < data.length; i++) {\n                        allnum += Number(data[i].num)\n                    }\n                    this.cart_num(allnum)\n                } else if (data.length == 0) {\n                    this.cart_num(0)\n                }\n                //添加，移除tabbar购物车小点提醒\n                if (this._cart_num) {\n                    var cart_num_str = String(this._cart_num)\n\n                    // #ifdef MP-WEIXIN\n                    uni.setTabBarBadge({\n                        index: 2,  // 修改为 index: 2\n                        text: cart_num_str\n                    })\n                    // #endif\n\n                    // #ifndef MP-WEIXIN\n                    uni.setTabBarBadge({\n                        index: 2,\n                        text: cart_num_str\n                    })\n                    // #endif\n\n                } else {\n\n                    // #ifdef MP-WEIXIN\n                    uni.removeTabBarBadge({\n                        index: 3\n                    })\n                    // #endif\n\n                    // #ifndef MP-WEIXIN\n                    uni.removeTabBarBadge({\n                        index: 2\n                    })\n                    // #endif\n                }\n            }\n        },\n        computed: {\n            count: function () {\n                var count = 0\n                for (var i = 0; i < this.selectArray.length; i++) {\n                    console.log(Number(this.selectArray[i].num))\n                    count += Number(this.selectArray[i].num)\n                }\n                return count\n            },\n            h5Height: function () {\n                var height\n                // #ifdef H5\n                height = 100 + 'upx'\n                // #endif\n                // #ifndef H5\n                height = 0 + 'upx'\n                // #endif\n                return height\n            },\n            total () {\n                var total = 0\n                for (var i = 0; i < this.selectArray.length; i++) {\n                    if (this.selectArray[i]) {\n                        total += new Number(this.selectArray[i].price) * parseInt(this.selectArray[i].num)\n                    }\n                }\n                return total.toFixed(2)\n            },\n            ...mapState({\n                _cart_num: 'cart_num'\n            })\n        },\n        components: {\n            maskM\n        }\n    }\n</script>\n\n<style scoped>\n    @import url('../../static/css/tab/shoppingCart.css');\n</style>\n","import mod from \"-!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shoppingCart.vue?vue&type=style&index=0&id=60bdd45b&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shoppingCart.vue?vue&type=style&index=0&id=60bdd45b&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1601433366791\n      var cssReload = require(\"D:/HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}